# Render Blueprint â€” deploy Poirot DSPM dashboard
# https://render.com/docs/blueprint-spec
#
# Usage:
#   1. Fork poirot-public and connect to Render
#   2. Render auto-detects this file and creates the service
#   3. Set secret env vars in the Render dashboard

services:
  - type: web
    name: poirot
    runtime: image
    image:
      url: ghcr.io/safernandez666/poirot-dashboard:latest
    plan: starter
    healthCheckPath: /api/health
    disk:
      name: poirot-data
      mountPath: /app/data
      sizeGB: 1
    envVars:
      # Core
      - key: ALERTS_DB_PATH
        value: /app/data/alerts.db
      - key: FINGERPRINT_PATH
        value: /app/scanner/fingerprint.yml
      - key: CONNECTION_PATH
        value: /app/scanner/connection.yml
      # Email notifications
      - key: SMTP_SERVER
        sync: false
      - key: SMTP_PORT
        sync: false
      - key: SMTP_USER
        sync: false
      - key: SMTP_PASSWORD
        sync: false
      - key: NOTIFICATION_EMAIL
        sync: false
      # Slack notifications
      - key: SLACK_WEBHOOK_URL
        sync: false
      # TheHive integration
      - key: THEHIVE_ENABLED
        value: "false"
      - key: THEHIVE_URL
        sync: false
      - key: THEHIVE_API_KEY
        sync: false
