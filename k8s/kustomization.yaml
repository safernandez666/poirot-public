apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: poirot

resources:
  - 00-namespace.yaml
  - 01-secret.yaml
  - 02-pvc.yaml
  - 03-hawk-scanner.yaml
  - 04-dashboard.yaml

# Generates ConfigMaps directly from the source files in this repo.
# Run:  kubectl apply -k k8s/
configMapGenerator:
  - name: poirot-fingerprint
    files:
      - fingerprint.yml=files/fingerprint.yml
  - name: poirot-connection-seed
    files:
      - connection.yml=files/connection.yml
  - name: poirot-scripts
    files:
      - notification_manager.py=files/notification_manager.py

generatorOptions:
  disableNameSuffixHash: true
